{% extends 'shop/base.html' %} {% block body %}

<div class="row mb-3">
  <div class="col-12">
    <form method="get" class="card card-sm">
      <div class="card-body row align-items-center">
        <div class="col">
          <input
            type="search"
            name="item_name"
            placeholder="Search for products"
            class="form-control form-control-borderless"
          />
        </div>
        <div class="col-auto">
          <button type="submit" class="btn btn-success">Search</button>
        </div>
      </div>
    </form>
  </div>
</div>

<div class="row">
  {% for product in products %}
  <div class="col-md-3">
    <div class="card">
      <img
        src="{{ product.image }}"
        alt="{{ product.description }}"
        class="card-img-top"
      />

      <div class="card-body">
        <div id="product_name_{{ product.id }}" class="card-title">
          {{ product.title }}
        </div>

        <div id="product_price_{{ product.id }}" class="card-text">
          ${{ product.price }}
        </div>

        <a href="/{{ product.id }}" class="btn btn-warning">View</a>
        <button id="{{ product.id }}" class="btn btn-warning atc">Add to cart</button>
      </div>
      <!-- end .card-body -->
    </div>
    <!-- end .card -->
  </div>
  <!-- end .col -->
  {% endfor %}
</div>

<div class="row mt-3">
  <div class="col-md-3 offset-md-4">
    <ul class="pagination">
      {% if products.has_previous %}
      <li class="page-item">
        <a href="?page={{ products.previous_page_number }}" class="page-link"
          >Previous</a
        >
      </li>
      {% endif %}

      <li class="page-item">
        <a href="?page={{ products.number }}" class="active page-link"
          >{{ products.number }}</a
        >
      </li>

      {% if products.has_next %}
      <li class="page-item">
        <a href="?page={{ products.next_page_number }}" class="page-link"
          >Next</a
        >
      </li>
      {% endif %}
    </ul>
  </div>
</div>

{% endblock %}
